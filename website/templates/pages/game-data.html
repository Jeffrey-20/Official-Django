
{% extends 'pages/base.html' %}


{% block content %}

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <br>
    <h5>WELCOME TO THE GAME DATA DEMO PAGE</h5>
    <hr>

<table class = "table table-dark table-hover table-bordered">
    <thead class ="table-primary">
        <tr>
            <th scope = "col"> ID </th>
            <th scope = "col">  Name </th>
            <th scope = "col"> Stars </th>
           
        </tr>
    </thead>

        <tbody>

            {% if data %}
                {% for record in data %}
                <tr>
                    <td>{{record.id}}</td>
                    <td>{{record.character_name}}   </td>
                    <td>{{record.stars}} </td>
                   
                    

                </tr>
                {% endfor %}
            {% endif %}
        </tbody>
    </table>


    <canvas id="myChart" style="width:100%;max-width:1000px"></canvas>

<script>
new Chart("myChart", {
    type: "doughnut",
    data: {
        labels: [{% for row in data %}'{{ row.character_name }}',{% endfor %}],
        datasets: [{
            backgroundColor: [
                "red", "blue", "green", "orange", "purple", "yellow", "cyan", "magenta"
            ],
            data: [{% for row in data %}{{ row.stars }},{% endfor %}]
        }]
    },
    options: {
        plugins: {
            legend: {
                display: true
            },
            title: {
                display: true,
                text: "Demo"
            }
        }
    }
});
</script>

{% endblock %}